<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Dashboard</title>
</head>
<body>
  <h1>Dashboard</h1>
  <button onclick="loadContacts()">Load Contacts</button>
  <button onclick="loadSessions()">Load Sessions</button>
  <div id="contacts"></div>
  <div id="sessions"></div>

<script>
const token = localStorage.getItem('token');
if(!token) location = 'index.html';
function authHeaders(){return { 'Content-Type':'application/json', 'Authorization':'Bearer '+token };}
async function loadContacts(){
  const res = await fetch('/api/contacts',{headers:authHeaders()});
  const data = await res.json();
  contacts.innerHTML = JSON.stringify(data, null, 2);
}
async function loadSessions(){
  const res = await fetch('/api/sessions',{headers:authHeaders()});
  const data = await res.json();
  sessions.innerHTML = JSON.stringify(data, null, 2);
}
</script>
</body>
</html>
